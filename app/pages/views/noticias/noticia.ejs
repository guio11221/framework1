<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width-device-width,initial-scale-1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://unpkg.com/bootstrap-table@1.21.2/dist/bootstrap-table.min.css" rel="stylesheet"/>
    <link rel="icon" type="image/x-icon" href="../assets/img/favicon/favicon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="../assets/vendor/fonts/boxicons.css" />
    <link rel="stylesheet" href="../assets/vendor/css/core.css" class="template-customizer-core-css" />
    <link rel="stylesheet" href="../assets/vendor/css/theme-default.css" class="template-customizer-theme-css" />
    <link rel="stylesheet" href="../assets/css/demo.css" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="../assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css" />
      <link rel="stylesheet" href="../assets/vendor/libs/apex-charts/apex-charts.css" />
      <style>
        @keyframes moveUpDown {
  0% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-20px);
  }
  100% {
    transform: translateY(0);
  }
}

img {
  animation: moveUpDown 2s infinite ease-in-out;
}

      </style>
     <title>Portal de notícias</title>
  </head>
  <body >
    <%- include ('../menu/nav.ejs') %>
  
    <% if (message !=null) { %>
      <script>
        Swal.fire({
        icon: "info",
        title: "Resultado da solicitação..!!!",
        text: "<%= message %>",
        confirmButtonText: "OK",
        });
      </script>
      <% } %>
    <div class="content-wrapper">
      <div class="layout-wrapper layout-content-navbar">
          <div class="layout-container">
              <div class="content-wrapper">
                  <div class="container-xxl flex-grow-1 container-p-y">
              <div style="justify-content: space-between;   display: flex;">
                     <ul class="nav">
                       <li class="nav-item">
                         <button onclick="window.location.href='/noticias'"  class="btn btn-outline-success nav-link">Voltar</button>
                         &nbsp;  &nbsp; 
                       </li>
                        <li class="nav-item">
                          &nbsp;  &nbsp; 
                        <button type="button"    class="btn btn-outline-primary nav-link" style="float: right;"  data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@mdo">Atualizar</button>
                       </li>
                       <li class="nav-item">
                         &nbsp;  &nbsp; 
                            <button type="button" class="btn btn-outline-danger nav-link" data-bs-toggle="modal" style="float: right;"  data-bs-target="#staticBackdrop">
                              Excluir
                            </button>
                       </li>
                     </ul>
                   </div>
                      <div class="row"> 
                          <div class="container-xxl flex-grow-1 container-p-y">
                            <div class="row">
                              <div class="col-md-12">
                                <div class="tab-content">
                                  <div class="tab-pane fade show active profile-overview" id="profile-overview">
                                     <div class="card mb-4">
                                        <div class="card-body">

                                        <img src="../olho.gif" style="height: 60vh;" class="col-md-6 float-md-end mb-3 ms-md-3" alt="...">
                                        <h1 class="text-center">  <%= noticias[0].titulo %></h1>
                                        <%- noticias[0].noticia %>

                                         </div>           
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>


<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">Excluir Notícia</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p> Tem certeza que quer excluir uma notícia <strong><%= noticias[0].id_noticia %> </strong></p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button  onclick="window.location.href='/noticia/deletar?id=<%= noticias[0].id_noticia%>'"  style="float: right;"  class="btn btn-outline-danger nav-link">Excluir</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="exampleModal"  data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Salvar notícia: <%- noticias[0].id_noticia%></h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form class="needs-validation" action="/atualizarNoticia" method="post" novalidate>
            <div class="mb-3">
              <label for="recipient-name" class="col-form-label">Titulo:</label>
              <input type="text" name="titulo" class="form-control" value="<%= noticias[0].titulo%>">
            </div>
            <input type="hidden" name="id" value="<%= noticias[0].id_noticia%>">
            <div class="mb-3">
              <label for="message-text" class="col-form-label">Notícia:</label>
              <textarea class="form-control" name="noticia" rows="10" cols="20" required><%= noticias[0].noticia %></textarea>
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="submit" class="btn btn-outline-dark">Salvar</button>
        </div>
      </div>
    </form>
    </div>
  </div>

  <script src="../noticia/index.js"></script>
  <script src="../assets/vendor/libs/jquery/jquery.js"></script>
  <script src="../assets/vendor/libs/popper/popper.js"></script>
  <script src="../assets/vendor/js/bootstrap.js"></script>
  <script src="../assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
  <script src="../assets/vendor/js/menu.js"></script>
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.2/dist/sweetalert2.all.min.js"></script>
  <script src="https://unpkg.com/bootstrap-table@1.21.2/dist/bootstrap-table.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous" ></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
  </body>
</html>
